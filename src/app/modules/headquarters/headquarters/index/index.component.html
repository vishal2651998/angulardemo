<div id="header">
    <app-header #headerRef [pageData]="headerData"></app-header>
</div>
<div class="left-section">
    <div class="first-left-width">
        <nav id="nav-sidebar">
            <app-sidebar [pageData]="sidebarActiveClass" accessModule="headquarters" (SidebarComponentRef)="sidebarRef = $event" (menuNav)="menuNav($event)"></app-sidebar>
        </nav>
    </div>
</div>

<div class="right-section">
    <div class="prob-index system-setting">
        <div class="container-fluid">
            <div class="center-middle-width-container">
                <div class="center-middle-width padding-common padding-common-hq">
                    <div *ngIf="headquartersFlag" class="hq-head">
                        <div style="height: 36px;">
                            <div class="hq-head-row-1" *ngIf="headQuarterService.networkEmpty && showFlag">
                                <img  class="hq-head-img" src="assets/images/hq/network.png" alt="" />
                                <span class="hq-head-text">{{networkName}}</span>
                            </div>
                            <div class="hq-head-row-1" *ngIf="!headQuarterService.networkEmpty && showFlag">
                                <img  class="hq-head-img" src="assets/images/hq/hq-head-icon.png" alt="" />
                                <span class="hq-head-text">{{networkName}}</span>
                            </div>
                        </div>
                    </div>
                    <div *ngIf="!headquartersFlag" class="hq-head d-flex" >
                        <div>
                            <div class="hq-head-row-0">
                                <span class="hq-head-breadcrumb-text cursor" (click)="back('step1')">Headquarters</span>
                                <img  class="hq-head-breadcrumb-img" src="assets/images/hq/hq-bc.png" alt="" />
                                <span class="hq-head-breadcrumb-text">{{featuredActionName}}</span>
                                <img *ngIf="selectedRoute == 'SHOPDETAILS'" class="hq-head-breadcrumb-img" src="assets/images/hq/hq-bc.png" alt="" />
                                <span *ngIf="selectedRoute == 'SHOPDETAILS'" class="hq-head-breadcrumb-text">{{routeParams?.storeName}}</span>
                            </div>
                            <div class="hq-head-row-1">
                                <img  class="hq-head-img" src="assets/images/hq/hq-region-head-icon.png" alt="" />
                                <span *ngIf="selectedRoute == 'HEADQUATERS'" class="hq-head-text">{{featuredActionName}}</span>
                                <span *ngIf="selectedRoute == 'SHOPDETAILS'" class="hq-head-text">{{routeParams?.storeName}}</span>
                            </div>
                        </div>
                        <div *ngIf="selectedRoute == 'HEADQUATERS' && selectedTab !== 'SUMMARY'" class="ml-auto d-flex align-items-center">
                            <div (click)="openAddShopModal()" class="m-0 add-action-btn cursor">
                                <img src="assets/images/hq/add-icon.png">
                                <span>New Shop</span>
                            </div>
                            <div class="m-0 border-0 add-action-btn cursor">
                                <img src="assets/images/export-green-icon.png">
                                <span>Template</span>
                            </div>
                            <div class="m-0 pl-0 border-0 add-action-btn cursor">
                                <img src="assets/images/common/cdownload-icon.png">
                                <span>Download Shops</span>
                            </div>
                            <div class="m-0 pl-0 border-0 add-action-btn cursor">
                                <img src="assets/images/hq/hq-media-green-upload-icon.png">
                                <span>Upload Shops</span>
                            </div>
                            <div class="bg-light rounded rounded-4 d-flex">
                                <div (click)="changeView()" *ngIf="viewType !== 'MAP'" class="p-2 border-right border-gray cursor">
                                    <img src="assets/images/hq/location-primary.png">
                                </div>
                                <div (click)="changeView()" *ngIf="viewType == 'MAP'" class="p-2 border-right border-gray cursor">
                                    <img src="assets/images/hq/location-active.png">
                                </div>
                                <div (click)="changeView()" *ngIf="viewType !== 'LIST'" class="p-2 cursor">
                                    <img src="assets/images/hq/list-primary.png">
                                </div>
                                <div (click)="changeView()" class="p-2 cursor">
                                    <img *ngIf="viewType == 'LIST'" src="assets/images/hq/list-active.png">
                                </div>
                            </div>
                        </div>
                    </div>

                    <div *ngIf="!headquartersFlag" class="ts-list-lt ts-list-bottom cbt-filter filter-expand">
                        <div class="" >
                            <div id="filter">
                                <div class="filter-widgets ts-list-lt-center transition">
                                    <div [style.height]="'calc(100vh - '+leftEmptyHeight+'px)'" class="heightsettemp">
                                        <div  class="ps" [perfectScrollbar]="sconfig">
                                            <div class="user-row">
                                                <div *ngIf="selectedRoute == 'HEADQUATERS'" >
                                                    <div class="profile-row system-settings-menu-row  active"
                                                        [ngClass]="{active:selectedTab == 'SUMMARY'}">
                                                        <div class="profile-row-inner" (click)="changeTab('SUMMARY')">
                                                            <span class="hq-summary-icon pimg"></span>
                                                            <span class="uname">Summary</span>
                                                        </div>
                                                    </div>
                                                    <div class="profile-row system-settings-menu-row"
                                                        [ngClass]="{active:selectedTab == 'SHOPS'}">
                                                        <div class="profile-row-inner" (click)="changeTab('SHOPS')">
                                                            <span class="shops-icon pimg"></span>
                                                            <span class="uname">Shops</span>
                                                        </div>
                                                    </div>
                                                    <div class="profile-row system-settings-menu-row"
                                                        [ngClass]="{active:selectedTab == 'TOOLS'}">
                                                        <div class="profile-row-inner" (click)="changeTab('TOOLS')">
                                                            <span class="tools-icon pimg"></span>
                                                            <span class="uname">Tools & Equipment</span>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div *ngIf="selectedRoute == 'SHOPDETAILS'" >
                                                    <div class="profile-row system-settings-menu-row  active"
                                                        [ngClass]="{active:selectedTab == 'SUMMARY'}">
                                                        <div class="profile-row-inner" (click)="changeTab('SUMMARY')">
                                                            <span class="hq-summary-icon pimg"></span>
                                                            <span class="uname">Summary</span>
                                                        </div>
                                                    </div>
                                                    <div class="profile-row system-settings-menu-row"
                                                        [ngClass]="{active:selectedTab == 'USERS'}">
                                                        <div class="profile-row-inner" (click)="changeTab('USERS')">
                                                            <span class="shops-icon pimg"></span>
                                                            <span class="uname">Users</span>
                                                        </div>
                                                    </div>
                                                    <div class="profile-row system-settings-menu-row"
                                                        [ngClass]="{active:selectedTab == 'FACILITY'}">
                                                        <div class="profile-row-inner" (click)="changeTab('FACILITY')">
                                                            <span class="shops-icon pimg"></span>
                                                            <span class="uname">Facility Layout</span>
                                                        </div>
                                                    </div>
                                                    <div class="profile-row system-settings-menu-row"
                                                        [ngClass]="{active:selectedTab == 'INSPECTION'}">
                                                        <div class="profile-row-inner" (click)="changeTab('INSPECTION')">
                                                            <span class="shops-icon pimg"></span>
                                                            <span class="uname">Inspection</span>
                                                        </div>
                                                    </div>
                                                    <div class="profile-row system-settings-menu-row"
                                                        [ngClass]="{active:selectedTab == 'TOOLS'}">
                                                        <div class="profile-row-inner" (click)="changeTab('TOOLS')">
                                                            <span class="tools-icon pimg"></span>
                                                            <span class="uname">Tools & Equipment</span>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                </div>
                            </div>
                        </div>
                    </div>

                    <div [ngClass]="{ 'ts-list-rt transition filter-expand' : !headquartersFlag }" class="">
                        <!--ADD SHOP MODAL -->
                        <div class="d-flex align-items-center justify-content-center shop-banner" *ngIf="!listShops && !headquartersFlag && selectedTab == 'SHOPS'">
        
                                <div class="rounded-circle" >
                                    <img src="assets/images/hq/hq-lt-shops-large.png"> 
                                </div>
                                <div>
                                    <p class="fs-14 shop-txt">Tap on the 'Add Shop' button to add New Shop</p>
                                </div>
                                <div (click)="openAddShopModal()" class="m-0 add-action-btn cursor">
                                    <img src="assets/images/hq/add-icon.png">
                                    <span>ADD SHOP</span>
                                </div>
                            
                        </div>

                        <!-- HEAD QUATERS ROUTES -->
                        <div *ngIf="selectedRoute == 'HEADQUATERS'">
                            <app-headquarters-list *ngIf="selectedTab == 'SUMMARY'"
                            (onShopSelect)="selectNav($event)"
                                (headquartersComponentRef)="headquartersPageRef = $event;changeInList()"
                                (callback)="headquartersCallback($event)"></app-headquarters-list>
                        </div>

                        <!-- SHOP DETAILS ROUTES -->
                        <div *ngIf="selectedRoute == 'SHOPDETAILS'">
                            <!-- SUMMARY ROUTE -->
                            <app-shop-detail-summary *ngIf="listShops && selectedRoute == 'SHOPDETAILS' && selectedTab == 'SUMMARY'"></app-shop-detail-summary>
                            <app-shop-detail-users *ngIf="listShops && selectedRoute == 'SHOPDETAILS' && selectedTab == 'USERS'"></app-shop-detail-users>
                            <app-shop-detail-facility *ngIf="listShops && selectedRoute == 'SHOPDETAILS' && selectedTab == 'FACILITY'"></app-shop-detail-facility>
                            <app-shop-detail-inspection *ngIf="listShops && selectedRoute == 'SHOPDETAILS' && selectedTab == 'INSPECTION'"></app-shop-detail-inspection>
                            <app-shop-detail-tools *ngIf="listShops && selectedRoute == 'SHOPDETAILS' && selectedTab == 'TOOLS'"></app-shop-detail-tools>
                        </div>
                    </div>

                </div>
            </div>
        </div>
    </div>
</div>


