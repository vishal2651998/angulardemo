<div class="cust-loader-main" *ngIf="loading || (accessFrom == 'search' && searchLoading)" [style.height]="'calc(100vh - '+rmHeight+'px)'">
    <div class="cust-loader cust-loader-new {{accessFrom}}"><img src="assets/images/loading.svg" alt="Loader" /></div>
</div>
<div *ngIf="lazyLoading && ((accessFrom != 'search') || (accessFrom == 'search' && !searchLoading ))" class="cust-loader esc-loader lazy-loader cust-lazy-loader {{accessFrom}}" [ngClass]="{'part-thumb-lazy-loader': thumbView, 'part-list-lazy-loader': !thumbView}"></div>
<div *ngIf="thumbView && !loading" class="parts-thumb-view" [style.height]="'calc(100vh - '+rmHeight+'px)'">
    <div #top [ngClass]="{'empty': displayNoRecords, 'opacity': opacityFlag}" id="partList" [perfectScrollbar]="sconfig" (scroll)="onScroll($event)">
        <ngx-masonry [options]="{ gutter: 10 }" class="parts-grid-row masonry-item-container {{accessFrom}}" [ngClass]="{'parts-empty': displayNoRecords}" [updateLayout]="updateMasonryLayout" [ordered]="true">
            <div ngxMasonryItem class="parts-grid-col masonry-item" *ngFor="let item of partsList; let i = index" id="{{item.userId}}">
                <p-card class="parts-card cursor" [ngClass]="{ 'active': item.selected }" (click)="viewProfile(item.userId,i)">
                    <div class="card-content part-card-content">
                        <div class="parts-image card-image rounded-circle" [ngStyle]="{'background-image': 'url(' + item.profileImg + ')'}"></div>
                        <span class="availability-status availability-status{{partsList.availability}}"></span> 
                        <div class="part-cont">						
                            <div class="card-title" title="{{item.userName}}">{{item.userName}}</div>
                            <div class="card-subtitle">
                                <div class="app-info">
                                    <div class="title truncate" title="{{item.designation}}">{{item.designation}}</div>
                                    <div class="city-state-div">
                                        <span *ngIf="item.cityState != '' " class="city-state-img"><img src="assets/images/directory-address.png" ></span>
                                        <span *ngIf="item.cityState != '' " class="city-state truncate" title="{{item.cityState}}">{{item.cityState}}</span>
                                        <span *ngIf="item.cityState == '' " class="city-state " >-</span>
                                    </div> 
                                    <div>
                                        <span *ngIf="item.phoneNumber != '' " class="city-state-img"><img src="assets/images/directory-phone.png" ></span>
                                        <span *ngIf="item.phoneNumber != '' " class="phone-number truncate" title="{{item.phoneNumber}}">{{item.phoneNumber}}</span>
                                        <span *ngIf="item.phoneNumber == '' " class="city-state " >-</span>
                                    </div>                                     
                                </div>                               
                            </div>
                        </div>
                    </div>
                </p-card>
            </div>            
            <div class="thumb" *ngIf="((accessFrom != 'search') || (accessFrom == 'search' && !searchLoading )) && (displayNoRecords || displayNoRecordsDefault)" [style.height]="'calc(100vh - '+rmHeight+'px)'">
                <app-empty-container [redirectionPage]="redirectionPage" [pageTitleText]="pageTitleText" [showType]="displayNoRecordsShow" [newPartInformation]="newPartInfo" [contentTypeDefaultNewImg]="contentTypeDefaultNewImg" [contentTypeValue]="contentTypeValue" [contentTypeDefaultNewText]="contentTypeDefaultNewText" [contentTypeDefaultNewTextDisabled]="contentTypeDefaultNewTextDisabled" [actionUrl]="partsUrl"></app-empty-container>
            </div>
        </ngx-masonry>
    </div>
</div>
<div *ngIf="!thumbView && !loading" class="prob-list-cont">
    <div *ngIf="!itemEmpty" class="documents-grid-row documents-grid-row-new" [style.height]="'calc(100vh - '+rmlHeight+'px)'">
        <div id="matrixTable" class="gts-mat-table matrix-table parts-mat-table parts-mat-table-fs" [ngClass]="{'opacity': opacityFlag, 'parts-empty-table': displayNoRecords}">
            <p-table #table [columns]="partsListColumns" [scrollable]="true" [totalRecords]="partsList.length" id="file-datatable" class="file-datatable thread-list-table parts-list-table" [ngClass]="{'opacity': opacityFlag, 'collapse-mat-table': !expandFlag, 'hide': displayNoRecords}" [value]="partsList" [scrollHeight]="'calc(100vh - '+rm2Height+'px)'" (scroll)="scroll($event)">
                <ng-template pTemplate="header" let-columns>
                    <tr *ngIf="!displayNoRecords" >
                        <th *ngFor="let col of columns" class="{{col.columnpclass}}">    
                           {{col.header}}
                         </th>
                    </tr>
                </ng-template>
                <ng-template pTemplate="body" let-partsList let-i="rowIndex">
                    <tr id="{{partsList.userId}}" class="cursor" [ngClass]="{'active': partsList.selected}">                                                        
                        <td class="w1 thl-col-1 col-sticky" (click)="viewProfile(partsList.userId,i)">
                            <!--span class="hide " title="{{threadListArray.userName}}">{{threadListArray.userName}}</span-->
                            <div class="thread-bg ">
                                <div class="profile-container">
                                    <div class="profileimg-container">
                                        <div class="profile-left-container" >
                                            <img class="profileImg rounded-circle" [src]="partsList.profileImg" onerror="this.src='assets/images/thumb_profile_image.png'"/>
                                            <span class="availability-status availability-status{{partsList.availability}}"></span>
                                        </div>
                                        <div class="profile-right-container">
                                            <div class="user-name" title="{{partsList.userName}}">  
                                                {{partsList.userName}}
                                            </div>
                                            <div class="buss-title" title="{{partsList.designation}}">
                                                {{partsList.designation}}
                                            </div>                                            
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </td>
                        <td class="w3 thl-col-2" (click)="viewProfile(partsList.userId,i)">
                            <span *ngIf="partsList.city != '' " class="" title="{{partsList.city}}">{{partsList.city}}</span>
                            <span *ngIf="partsList.city == '' " class="" >-</span>
                            
                        </td>
                        <td class="w4 thl-col-3" (click)="viewProfile(partsList.userId,i)">
                            <span *ngIf="partsList.state != '' " class="" title="{{partsList.state}}">{{partsList.state}}</span>
                            <span *ngIf="partsList.state == '' " class="" >-</span>
                        </td>
                        <td class="w5 thl-col-4" (click)="viewProfile(partsList.userId,i)">
                            <span *ngIf="partsList.phoneNumber != '' " class="" title="{{partsList.phoneNumber}}">{{partsList.phoneNumber}}</span>
                            <span *ngIf="partsList.phoneNumber == '' " class="" >-</span>
                        </td>                        
                    </tr>
                </ng-template>
            </p-table>
            <div class="list" *ngIf="displayNoRecords || displayNoRecordsDefault" [style.height]="'calc(100vh - '+rmHeight+'px)'">                                     
                <app-empty-container [redirectionPage]="redirectionPage" [pageTitleText]="pageTitleText" [showType]="displayNoRecordsShow" [newPartInformation]="newPartInfo" [contentTypeDefaultNewImg]="contentTypeDefaultNewImg" [contentTypeValue]="contentTypeValue" [contentTypeDefaultNewText]="contentTypeDefaultNewText" [contentTypeDefaultNewTextDisabled]="contentTypeDefaultNewTextDisabled" [actionUrl]="partsUrl"></app-empty-container>
            </div>
        </div>
    </div>
    <div class="thumb" *ngIf="itemEmpty && ((accessFrom != 'search') || (accessFrom == 'search' && !searchLoading )) && (displayNoRecords || displayNoRecordsDefault)" [style.height]="'calc(100vh - '+rmHeight+'px)'">
        <app-empty-container [redirectionPage]="redirectionPage" [pageTitleText]="pageTitleText" [showType]="displayNoRecordsShow" [newPartInformation]="newPartInfo" [contentTypeDefaultNewImg]="contentTypeDefaultNewImg" [contentTypeValue]="contentTypeValue" [contentTypeDefaultNewText]="contentTypeDefaultNewText" [contentTypeDefaultNewTextDisabled]="contentTypeDefaultNewTextDisabled" [actionUrl]="partsUrl"></app-empty-container>
    </div>
</div>


